import{x as v,O as i,F as s,s as xe,$ as be,r as g,f as he,w as ke,R as we,Q as q,H as R,y as W,u as _,A as N,I as f,E as y,Z as T,a4 as U,_ as _e,a2 as P}from"./vendor-C_kCRdsv.js";import{u as Te,z as B,B as G,c as Se,t as X,s as Y}from"./index-CET3MO9v.js";import{u as De}from"./messageTemplates-BIHD0qL0.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./pinia-B2SWLoi0.js";import"./query-BV4EBN_X.js";function Ee(Z,F){return i(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})])}function ee(Z,F){return i(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const Ne={class:"space-y-6"},Ie={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Oe={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},$e={class:"flex items-center justify-between"},je=["disabled"],Ae={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Pe={class:"p-6"},Me={class:"space-y-4"},Je={class:"flex flex-col sm:flex-row gap-3"},Re=["disabled"],Ue=["disabled"],Be={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Fe={class:"p-6"},Ve={class:"space-y-6"},Le={class:"space-y-2"},ze={class:"flex items-center"},He={class:"flex items-center"},qe={class:"space-y-2"},We={class:"flex items-center"},Ze={class:"flex items-center"},Ke={key:0},Qe={class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Ge={class:"space-y-1 text-center"},Xe={class:"flex text-sm text-gray-600 dark:text-gray-400"},Ye={for:"file-upload",class:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500"},et={key:1},tt={class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},at={class:"space-y-3"},st=["placeholder"],rt={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-1"},ot={class:"flex items-center justify-between"},lt={class:"text-xs text-gray-500 dark:text-gray-400"},it={key:2,class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},nt={class:"flex items-center justify-between mb-3"},dt={class:"flex items-center"},ct={key:1,class:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white"},ut={key:2,class:"ml-2 text-xs text-gray-500 dark:text-gray-400"},pt={key:3,class:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white"},mt={class:"space-y-2"},gt={class:"text-sm text-gray-600 dark:text-gray-400"},ft={class:"bg-white dark:bg-gray-800 rounded border p-3 max-h-40 overflow-y-auto"},vt={class:"text-xs text-gray-700 dark:text-gray-300"},yt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},xt={class:"mt-4 space-y-3"},bt={key:0},ht={class:"flex items-center"},kt={class:"flex items-center"},wt={class:"flex items-center"},_t={key:1},Tt={class:"flex items-center"},St={class:"flex items-center"},Dt={key:3,class:"pt-4"},Ct=["disabled"],Et=xe({__name:"ImportExportView",setup(Z){const F=be(),m=Te(),D=De(),c=g({createTopics:!0,createSubscriptions:!0,overwriteExisting:!1,overwriteTemplates:!1,preserveTemplateIds:!1}),n=g("config"),h=g("file"),S=g(""),k=g(null),O=g(!1),$=g(!1),j=g(!1),A=g(!1),M=g(!1),I=g(!1),C=g(null),d=g(null),E=g(null),V=g([]),L=g([]),z=g([]),l=he(()=>F.params.projectId),H=async()=>{if(l.value)try{const t=await X.getTopics(l.value);V.value=Array.isArray(t)?t.map(a=>({...a,id:a.id||`${l.value}-${a.name||"unknown"}-${Date.now()}`,name:a.name||"unknown",fullName:a.name||`projects/${l.value}/topics/unknown`,projectId:l.value,createdAt:new Date(a.createdAt||Date.now()),updatedAt:new Date(a.updatedAt||Date.now()),labels:a.labels||{},state:"ACTIVE",messageCount:a.messageCount||0,subscriptionsCount:a.subscriptionsCount||0})):[];const e=await Y.getSubscriptions(l.value);L.value=Array.isArray(e)?e.map(a=>({...a,id:a.id||`${l.value}-${a.name||"unknown"}-${Date.now()}`,name:a.name||"unknown",fullName:a.name||`projects/${l.value}/subscriptions/unknown`,projectId:l.value,topicName:a.topic||a.topicName||"unknown",createdAt:new Date(a.createdAt||Date.now()),updatedAt:new Date(a.updatedAt||Date.now()),labels:a.labels||{},ackDeadlineSeconds:a.ackDeadlineSeconds||60,retainAckedMessages:a.retainAckedMessages||!1,messageRetentionDuration:a.messageRetentionDuration||"604800s",enableMessageOrdering:a.enableMessageOrdering||!1,enableExactlyOnceDelivery:a.enableExactlyOnceDelivery||!1,detached:a.detached||!1,messageCount:a.messageCount||0,undeliveredMessageCount:a.undeliveredMessageCount||0})):[],await D.loadTemplates(l.value),z.value=D.exportTemplates(l.value)}catch(t){console.error("Failed to load data:",t),m.showToast({type:"error",title:"Failed to load data",message:t.message})}},te=async()=>{M.value=!0;try{await H(),m.showToast({type:"success",title:"Data refreshed",message:"Topics and subscriptions have been refreshed"})}catch(t){console.error("Failed to refresh data:",t),m.showToast({type:"error",title:"Failed to refresh data",message:t.message})}finally{M.value=!1}},ae=async()=>{O.value=!0;try{const t=[],e=L.value.reduce((x,p)=>{const w=J(p.topicName);return x[w]||(x[w]=[]),x[w].push(p),x},{});for(const x of V.value){const p=J(x.name),w=e[p]||[];if(w.length>0)for(const u of w){const b={topic_name:p,sub_name:Q(u.name)};u.enableMessageOrdering&&(b.enable_message_ordering=!0),u.ackDeadlineSeconds!==60&&(b.ack_deadline_seconds=u.ackDeadlineSeconds),u.messageRetentionDuration!=="604800s"&&(b.message_retention_duration=u.messageRetentionDuration),u.enableExactlyOnceDelivery&&(b.enable_exactly_once_delivery=!0),u.pushConfig?.pushEndpoint&&(b.push_endpoint=u.pushConfig.pushEndpoint),u.deadLetterPolicy?.deadLetterTopic&&(b.dead_letter_topic=J(u.deadLetterPolicy.deadLetterTopic),u.deadLetterPolicy.maxDeliveryAttempts!==void 0&&(b.max_delivery_attempts=u.deadLetterPolicy.maxDeliveryAttempts)),u.retryPolicy?.minimumBackoff&&(b.retry_minimum_backoff=u.retryPolicy.minimumBackoff),u.retryPolicy?.maximumBackoff&&(b.retry_maximum_backoff=u.retryPolicy.maximumBackoff),u.labels&&Object.keys(u.labels).length>0&&(b.labels=u.labels),t.push(b)}else t.push({topic_name:p,sub_name:`${p}-sub`})}const a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=`pubsub-config-${l.value}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),m.showToast({type:"success",title:"Configuration exported",message:`Exported ${t.length} configuration${t.length===1?"":"s"}`})}catch(t){console.error("Export failed:",t),m.showToast({type:"error",title:"Export failed",message:t.message})}finally{O.value=!1}},se=async()=>{$.value=!0;try{await D.loadTemplates(l.value);const t=D.exportTemplates(l.value);if(t.length===0){m.showToast({type:"info",title:"No templates to export",message:"No message templates found for this project"});return}const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),o=document.createElement("a");o.href=a,o.download=`message-templates-${l.value}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),m.showToast({type:"success",title:"Templates exported",message:`Exported ${t.length} template${t.length===1?"":"s"}`})}catch(t){console.error("Templates export failed:",t),m.showToast({type:"error",title:"Export failed",message:t.message})}finally{$.value=!1}},K=async t=>{if(!t.name.endsWith(".json")){m.showToast({type:"error",title:"Invalid file type",message:"Please select a JSON file"});return}C.value=t;try{const e=await oe(t),a=JSON.parse(e);let o;if(Array.isArray(a)?o=a:o=[a],n.value==="config"){for(const r of o)if(!r.topic_name||!r.sub_name)throw new Error("Each configuration must have topic_name and sub_name")}else for(const r of o)if(!r.name||!r.projectId||!r.topicName||!r.data)throw new Error("Each template must have name, projectId, topicName, and data fields");d.value=o}catch(e){console.error("Failed to parse file:",e),m.showToast({type:"error",title:"Invalid file",message:e.message}),ce()}},re=async t=>{const a=t.target.files?.[0];a&&await K(a)},oe=t=>new Promise((e,a)=>{const o=new FileReader;o.onload=r=>e(r.target?.result),o.onerror=()=>a(new Error("Failed to read file")),o.readAsText(t)}),le=t=>{t.preventDefault(),t.stopPropagation(),I.value=!0},ie=t=>{t.preventDefault(),t.stopPropagation()},ne=t=>{t.preventDefault(),t.stopPropagation(),I.value=!1},de=async t=>{t.preventDefault(),t.stopPropagation(),I.value=!1;const e=t.dataTransfer?.files;if(!e||e.length===0)return;const a=e[0];await K(a)},ce=()=>{C.value=null,d.value=null,I.value=!1,S.value="",k.value=null,E.value&&(E.value.value="")},ue=async()=>{if(!S.value.trim()){k.value=null,d.value=null;return}try{const t=JSON.parse(S.value);let e;if(Array.isArray(t)?e=t:e=[t],n.value==="config"){for(const a of e)if(!a.topic_name||!a.sub_name)throw new Error("Each configuration must have topic_name and sub_name")}else for(const a of e)if(!a.name||!a.projectId||!a.topicName||!a.data)throw new Error("Each template must have name, projectId, topicName, and data fields");d.value=e,k.value=null}catch(t){k.value=t instanceof Error?t.message:"Invalid JSON format",d.value=null}},pe=()=>{S.value="",k.value=null,d.value=null},me=()=>{C.value=null,S.value="",k.value=null,d.value=null,I.value=!1,E.value&&(E.value.value="")},ge=()=>{d.value=null,k.value=null,S.value="",C.value=null,E.value&&(E.value.value="")},fe=async()=>{if(!(!d.value||!l.value||n.value!=="config")){j.value=!0;try{let t=0,e=0;const a=new Set,o=[];for(const r of d.value)c.value.createTopics&&a.add(r.topic_name),c.value.createSubscriptions&&o.push({config:r,topicName:r.topic_name,subscriptionName:r.sub_name});if(c.value.createTopics)for(const r of a)try{if(V.value.find(w=>J(w.name)===r)&&!c.value.overwriteExisting){t++;continue}const p={name:r,labels:{}};await X.createTopic(l.value,p),t++}catch{e++}if(c.value.createSubscriptions)for(const r of o)try{if(L.value.find(w=>Q(w.name)===r.subscriptionName)&&!c.value.overwriteExisting){t++;continue}const p={name:r.subscriptionName,topic:`projects/${l.value}/topics/${r.topicName}`,ackDeadlineSeconds:r.config.ack_deadline_seconds||60,retainAckedMessages:!1,messageRetentionDuration:r.config.message_retention_duration||"604800s",enableMessageOrdering:r.config.enable_message_ordering||!1,labels:r.config.labels||{}};r.config.push_endpoint&&(p.pushConfig={pushEndpoint:r.config.push_endpoint}),r.config.dead_letter_topic&&(p.deadLetterPolicy={deadLetterTopic:`projects/${l.value}/topics/${r.config.dead_letter_topic}`,maxDeliveryAttempts:r.config.max_delivery_attempts||5}),r.config.retry_minimum_backoff&&r.config.retry_maximum_backoff&&(p.retryPolicy={minimumBackoff:r.config.retry_minimum_backoff,maximumBackoff:r.config.retry_maximum_backoff}),await Y.createSubscription(l.value,p),t++}catch{e++}await H(),t>0&&e===0?m.showToast({type:"success",title:"Import completed successfully",message:`${t} configuration${t===1?"":"s"} imported`}):t>0&&e>0?m.showToast({type:"warning",title:"Import completed with errors",message:`${t} successful, ${e} failed`}):m.showToast({type:"error",title:"Import failed",message:`All ${e} configuration${e===1?"":"s"} failed to import`})}catch(t){console.error("Import failed:",t),m.showToast({type:"error",title:"Import failed",message:t.message})}finally{j.value=!1}}},ve=async()=>{if(!(!d.value||!l.value||n.value!=="templates")){A.value=!0;try{let t=0,e=0;const a=d.value;for(const o of a)try{const r=z.value.find(p=>p.name===o.name&&p.projectId===l.value);if(r&&!c.value.overwriteTemplates){t++;continue}const x={name:String(o.name||""),description:o.description?String(o.description):void 0,projectId:l.value,topicName:String(o.topicName||""),data:String(o.data||""),attributes:JSON.parse(JSON.stringify(o.attributes||{})),variables:JSON.parse(JSON.stringify(o.variables||{})),tags:Array.isArray(o.tags)?o.tags.map(p=>String(p)):[]};r&&c.value.overwriteTemplates?await D.updateTemplate(r.id,x):await D.saveTemplate(x),t++}catch{e++}await D.loadTemplates(l.value),z.value=D.exportTemplates(l.value),t>0&&e===0?m.showToast({type:"success",title:"Templates imported successfully",message:`${t} template${t===1?"":"s"} imported`}):t>0&&e>0?m.showToast({type:"warning",title:"Templates import completed with errors",message:`${t} successful, ${e} failed`}):m.showToast({type:"error",title:"Templates import failed",message:`All ${e} template${e===1?"":"s"} failed to import`})}catch(t){console.error("Templates import failed:",t),m.showToast({type:"error",title:"Import failed",message:t.message})}finally{A.value=!1}}},ye=t=>{if(t===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB"],o=Math.floor(Math.log(t)/Math.log(e));return`${parseFloat((t/Math.pow(e,o)).toFixed(2))} ${a[o]}`},J=t=>t.includes("/topics/")?t.split("/topics/")[1]:t,Q=t=>t.includes("/subscriptions/")?t.split("/subscriptions/")[1]:t;return ke(n,()=>{ge()}),we(()=>{H()}),(t,e)=>(i(),v("div",Ne,[s("div",Ie,[s("div",Oe,[s("div",$e,[e[12]||(e[12]=s("h2",{class:"text-base sm:text-lg font-medium text-gray-900 dark:text-white"}," Import/Export ",-1)),s("button",{onClick:te,disabled:M.value,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[q(_(B),{class:W(["h-4 w-4 mr-2",{"animate-spin":M.value}])},null,8,["class"]),e[11]||(e[11]=R(" Refresh ",-1))],8,je)])])]),s("div",Ae,[e[13]||(e[13]=s("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[s("h2",{class:"text-base sm:text-lg font-medium text-gray-900 dark:text-white"}," Export Configuration "),s("p",{class:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-400"}," Export all your current topics, subscriptions, and message templates to JSON files ")],-1)),s("div",Pe,[s("div",Me,[s("div",Je,[s("button",{onClick:ae,disabled:O.value,class:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[O.value?(i(),N(_(B),{key:1,class:"h-4 w-4 mr-2 animate-spin"})):(i(),N(_(G),{key:0,class:"h-4 w-4 mr-2"})),R(" "+f(O.value?"Exporting...":"Export Topics & Subscriptions"),1)],8,Re),s("button",{onClick:se,disabled:$.value,class:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[$.value?(i(),N(_(B),{key:1,class:"h-4 w-4 mr-2 animate-spin"})):(i(),N(_(G),{key:0,class:"h-4 w-4 mr-2"})),R(" "+f($.value?"Exporting...":"Export Message Templates"),1)],8,Ue)])])])]),s("div",Be,[e[28]||(e[28]=s("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[s("h2",{class:"text-base sm:text-lg font-medium text-gray-900 dark:text-white"}," Import Data "),s("p",{class:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-400"}," Import topics, subscriptions, or message templates from JSON files ")],-1)),s("div",Fe,[s("div",Ve,[s("div",null,[e[16]||(e[16]=s("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," What would you like to import? ",-1)),s("div",Le,[s("div",ze,[T(s("input",{id:"import-config","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),value:"config",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"},null,512),[[U,n.value]]),e[14]||(e[14]=s("label",{for:"import-config",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Topics & Subscriptions ",-1))]),s("div",He,[T(s("input",{id:"import-templates","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),value:"templates",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"},null,512),[[U,n.value]]),e[15]||(e[15]=s("label",{for:"import-templates",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Message Templates ",-1))])])]),s("div",null,[e[19]||(e[19]=s("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Import Method ",-1)),s("div",qe,[s("div",We,[T(s("input",{id:"import-file","onUpdate:modelValue":e[2]||(e[2]=a=>h.value=a),value:"file",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"},null,512),[[U,h.value]]),e[17]||(e[17]=s("label",{for:"import-file",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Upload File ",-1))]),s("div",Ze,[T(s("input",{id:"import-paste","onUpdate:modelValue":e[3]||(e[3]=a=>h.value=a),value:"paste",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"},null,512),[[U,h.value]]),e[18]||(e[18]=s("label",{for:"import-paste",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Paste JSON ",-1))])])]),h.value==="file"?(i(),v("div",Ke,[s("label",Qe," Select "+f(n.value==="config"?"Configuration":"Template")+" File ",1),s("div",{class:W(["mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors",I.value?"border-blue-400 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-500":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"]),onDrop:de,onDragover:ie,onDragenter:le,onDragleave:ne},[s("div",Ge,[q(_(ee),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),s("div",Xe,[s("label",Ye,[e[20]||(e[20]=s("span",null,"Upload a file",-1)),s("input",{id:"file-upload",ref_key:"fileInput",ref:E,type:"file",accept:".json",onChange:re,class:"sr-only"},null,544)]),e[21]||(e[21]=s("p",{class:"pl-1"},"or drag and drop",-1))]),e[22]||(e[22]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," JSON files only ",-1))])],34)])):y("",!0),h.value==="paste"?(i(),v("div",et,[s("label",tt," Paste JSON "+f(n.value==="config"?"Configuration":"Templates"),1),s("div",at,[T(s("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>S.value=a),onInput:ue,placeholder:n.value==="config"?"Paste your JSON configuration here...":"Paste your JSON templates here...",rows:"10",class:W(["w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none dark:bg-gray-700 dark:text-white text-sm font-mono json-textarea",k.value?"border-red-300 dark:border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"])},null,42,st),[[_e,S.value]]),k.value?(i(),v("div",rt,f(k.value),1)):y("",!0),s("div",ot,[s("p",lt,f(n.value==="config"?"Paste your JSON array of topic and subscription configurations":"Paste your JSON array of message templates"),1),S.value?(i(),v("button",{key:0,onClick:pe,class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}," Clear ")):y("",!0)])])])):y("",!0),d.value?(i(),v("div",it,[s("div",nt,[s("div",dt,[h.value==="file"?(i(),N(_(ee),{key:0,class:"h-5 w-5 text-gray-400 mr-2"})):y("",!0),h.value==="file"?(i(),v("span",ct,f(C.value?.name),1)):y("",!0),h.value==="file"?(i(),v("span",ut," ("+f(C.value?ye(C.value.size):"")+") ",1)):y("",!0),h.value==="paste"?(i(),v("span",pt," 📋 Pasted JSON "+f(n.value==="config"?"Configuration":"Templates"),1)):y("",!0)]),s("button",{onClick:me,class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"},[q(_(Se),{class:"h-4 w-4"})])]),s("div",mt,[s("div",gt," Preview: "+f(d.value.length)+" "+f(n.value==="templates"?"template":"configuration")+f(d.value.length===1?"":"s"),1),s("div",ft,[s("pre",vt,f(JSON.stringify(d.value.slice(0,3),null,2)),1),d.value.length>3?(i(),v("div",yt," ... and "+f(d.value.length-3)+" more "+f(n.value==="templates"?"template":"configuration")+f(d.value.length-3===1?"":"s"),1)):y("",!0)])]),s("div",xt,[n.value==="config"?(i(),v("div",bt,[s("div",ht,[T(s("input",{id:"create-topics","onUpdate:modelValue":e[5]||(e[5]=a=>c.value.createTopics=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:checked:bg-blue-600"},null,512),[[P,c.value.createTopics]]),e[23]||(e[23]=s("label",{for:"create-topics",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Create topics if they don't exist ",-1))]),s("div",kt,[T(s("input",{id:"create-subscriptions","onUpdate:modelValue":e[6]||(e[6]=a=>c.value.createSubscriptions=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:checked:bg-blue-600"},null,512),[[P,c.value.createSubscriptions]]),e[24]||(e[24]=s("label",{for:"create-subscriptions",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Create subscriptions if they don't exist ",-1))]),s("div",wt,[T(s("input",{id:"overwrite-existing","onUpdate:modelValue":e[7]||(e[7]=a=>c.value.overwriteExisting=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:checked:bg-blue-600"},null,512),[[P,c.value.overwriteExisting]]),e[25]||(e[25]=s("label",{for:"overwrite-existing",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Overwrite existing configurations ",-1))])])):y("",!0),n.value==="templates"?(i(),v("div",_t,[s("div",Tt,[T(s("input",{id:"overwrite-templates","onUpdate:modelValue":e[8]||(e[8]=a=>c.value.overwriteTemplates=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:checked:bg-blue-600"},null,512),[[P,c.value.overwriteTemplates]]),e[26]||(e[26]=s("label",{for:"overwrite-templates",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Overwrite existing templates with same name ",-1))]),s("div",St,[T(s("input",{id:"preserve-ids","onUpdate:modelValue":e[9]||(e[9]=a=>c.value.preserveTemplateIds=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:checked:bg-blue-600"},null,512),[[P,c.value.preserveTemplateIds]]),e[27]||(e[27]=s("label",{for:"preserve-ids",class:"ml-2 block text-xs sm:text-sm text-gray-900 dark:text-white"}," Preserve template IDs (may cause conflicts) ",-1))])])):y("",!0)])])):y("",!0),d.value?(i(),v("div",Dt,[s("button",{onClick:e[10]||(e[10]=a=>n.value==="templates"?ve():fe()),disabled:j.value||A.value||!d.value||n.value==="config"&&!c.value.createTopics&&!c.value.createSubscriptions,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[!j.value&&!A.value?(i(),N(_(Ee),{key:0,class:"h-4 w-4 mr-2"})):(i(),N(_(B),{key:1,class:"h-4 w-4 mr-2 animate-spin"})),R(" "+f(j.value||A.value?"Importing...":`Import ${n.value==="templates"?"Templates":"Configuration"}`),1)],8,Ct)])):y("",!0)])])])]))}}),Pt=Ce(Et,[["__scopeId","data-v-3e13b462"]]);export{Pt as default};
